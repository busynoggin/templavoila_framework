<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<T3DataStructure>
	<meta type="array">
		<langDisable>1</langDisable>
		<disableDataPreview>1</disableDataPreview>
	</meta>
	<ROOT type="array">
		<tx_templavoila type="array">
			<title>ROOT</title>
			<description>Inner mapping to body tag. Remember to also inclube body tag in the header parts</description>
		</tx_templavoila>
		<type>array</type>
		<el type="array">
			<field_auto_header_switch type="array">
				<type>no_map</type>
				<tx_templavoila type="array">
					<title>Page Title as Content Headline</title>
					<description>No mapping</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>select</eType>
				</tx_templavoila>
				<TCEforms type="array">
					<config type="array">
						<type>select</type>
						<items type="array">
							<numIndex index="0" type="array">
								<numIndex index="0">LLL:EXT:templavoila_framework/lang/locallang.xml:pages.autoHeadline.default</numIndex>
								<numIndex index="1">0</numIndex>
							</numIndex>
							<numIndex index="1" type="array">
								<numIndex index="0">LLL:EXT:templavoila_framework/lang/locallang.xml:pages.autoHeadline.on</numIndex>
								<numIndex index="1">1</numIndex>
							</numIndex>
							<numIndex index="2" type="array">
								<numIndex index="0">LLL:EXT:templavoila_framework/lang/locallang.xml:pages.autoHeadline.off</numIndex>
								<numIndex index="1">2</numIndex>
							</numIndex>
						</items>
						<default>0</default>
					</config>
					<label>LLL:EXT:templavoila_framework/lang/locallang.xml:pages.autoHeadline.label</label>
				</TCEforms>
			</field_auto_header_switch>
			<field_feature_bleed_switch type="array">
				<type>no_map</type>
				<tx_templavoila type="array">
					<title>Bleed Feature Content</title>
					<description>No mapping</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>select</eType>
				</tx_templavoila>
				<TCEforms type="array">
					<config type="array">
						<type>select</type>
						<items type="array">
							<numIndex index="0" type="array">
								<numIndex index="0">LLL:EXT:templavoila_framework/lang/locallang.xml:pages.bleed.default</numIndex>
								<numIndex index="1">0</numIndex>
							</numIndex>
							<numIndex index="1" type="array">
								<numIndex index="0">LLL:EXT:templavoila_framework/lang/locallang.xml:pages.bleed.on</numIndex>
								<numIndex index="1">1</numIndex>
							</numIndex>
							<numIndex index="2" type="array">
								<numIndex index="0">LLL:EXT:templavoila_framework/lang/locallang.xml:pages.bleed.off</numIndex>
								<numIndex index="1">2</numIndex>
							</numIndex>
						</items>
						<default>0</default>
					</config>
					<label>LLL:EXT:templavoila_framework/lang/locallang.xml:pages.bleed.label</label>
				</TCEforms>
			</field_feature_bleed_switch>
			<field_ds_config_library type="array">
				<type>no_map</type>
				<tx_templavoila type="array">
					<title>DS Configuration Library</title>
					<description>No mapping</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.dsConfig</TypoScriptObjPath>
				</tx_templavoila>
			</field_ds_config_library>
			<field_pre_code_header type="array">
				<tx_templavoila type="array">
					<title>Header Pre Code</title>
					<description>Outer mapping to #preCodeHeader. This code will appear right after the body tag and before the header</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.preCodeHeader</TypoScriptObjPath>
				</tx_templavoila>
			</field_pre_code_header>
			<field_header type="array">
				<tx_templavoila type="array">
					<title>Header</title>
					<description>Outer to #header</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.header</TypoScriptObjPath>
				</tx_templavoila>
			</field_header>
			<field_post_code_header type="array">
				<tx_templavoila type="array">
					<title>Header Post Code</title>
					<description>Outer mapping to #postCodeHeader. This code will appear right after the header</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.postCodeHeader</TypoScriptObjPath>
				</tx_templavoila>
			</field_post_code_header>
			<field_pre_code_content_block_1 type="array">
				<tx_templavoila type="array">
					<title>Main Content Pre Code</title>
					<description>Outer mapping to #preCodeContentBlock-1. This code will appear right before the Main Content.</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.preCodeContentBlock-1</TypoScriptObjPath>
				</tx_templavoila>
			</field_pre_code_content_block_1>
			<field_content_block_1 type="array">
				<tx_templavoila type="array">
					<title>Main Content (Content Block 1)</title>
					<description>Outer to #contentBlock-1</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>ce</eType>
					<tags>div:outer</tags>
					<TypoScript_constants>
<containerWidth>{$containerWidth.f3a.contentBlock-1}</containerWidth>
<templateKey>f3a</templateKey>
<fieldKey>contentBlock-1</fieldKey>
                    </TypoScript_constants>
					<TypoScript>
<![CDATA[
10 = CASE
10 {
	key.data = register:tvfwRenderMode
	1 = LOAD_REGISTER
	1	{
		tvfwBlockBeginWrap = <div id="contentBlock-1"><!--TYPO3SEARCH_begin-->
		tvfwBlockEndWrap = <!--TYPO3SEARCH_end--><div class="clearOnly">&nbsp;</div></div>
		containerWidth = {$containerWidth}
	}
	2 = LOAD_REGISTER
	2 {
		containerWidth.data = register:{$templateKey}{$fieldKey}width
		tvfwTemplateCheck = <h3 style="background:red;color:white;padding:10px;">You must update your templates to use render mode 2 <a href="http://www.busynoggin.com/" style="color:white;text-decoration:underline;">more info</a></h3>
		tvfwTemplateCheck.if {
			value = 2
			isInList = {$maxRenderMode}
			negate = 1
		}
		tvfwBlockBeginWrap.dataWrap = {register:{$templateKey}{$fieldKey}beginWrap}{register:tvfwTemplateCheck}
		tvfwBlockEndWrap.dataWrap = {register:{$templateKey}{$fieldKey}endWrap}
	}
	default = LOAD_REGISTER
	default {
		tvfwBlockBeginWrap = <div id="contentBlock-1"><!--TYPO3SEARCH_begin--><h3 style="background:red;color:white;padding:10px;">You must declare a rendering mode in your skin constants <a href="http://www.busynoggin.com/" style="color:white;text-decoration:underline;">more info</a></h3>
		tvfwBlockEndWrap = <!--TYPO3SEARCH_end--><div class="clearOnly">&nbsp;</div></div>
		containerWidth = {$containerWidth}
	}
}

20 = LOAD_REGISTER
20 {
	maxImageWidth.data = register:containerWidth
	originalContainerWidth.data = register:containerWidth
	nestingLevel = 0
}
30 = COA
30 {
	wrap = {register:tvfwBlockBeginWrap}|{register:tvfwBlockEndWrap}
	wrap.insertData = 1
	10 = TEXT
	10 {
		data = page:title
		htmlSpecialChars = 1
		wrap = <h1 class="csc-firstHeader centralHeadline">|</h1>
		if {
			value.data = register:autoMainHeadline
			equals = 0
			negate = 1
		}
	}
	20 = RECORDS
	20 {
		source.current = 1
		tables = tt_content
	}
}
]]>
					</TypoScript>
					<enableDragDrop>1</enableDragDrop>
					<oldStyleColumnNumber type="integer">0</oldStyleColumnNumber>
				</tx_templavoila>
				<TCEforms type="array">
					<config type="array">
						<type>group</type>
						<internal_type>db</internal_type>
						<allowed>tt_content</allowed>
						<size>5</size>
						<maxitems>200</maxitems>
						<minitems>0</minitems>
						<multiple>1</multiple>
						<show_thumbs>1</show_thumbs>
					</config>
					<label></label>
				</TCEforms>
			</field_content_block_1>
			<field_post_code_content_block_1 type="array">
				<tx_templavoila type="array">
					<title>Main Content Post Code</title>
					<description>Outer mapping to #postCodeContentBlock-1. This code will appear right after the Main Content.</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.postCodeContentBlock-1</TypoScriptObjPath>
				</tx_templavoila>
			</field_post_code_content_block_1>
			<field_pre_code_content type="array">
				<tx_templavoila type="array">
					<title>Content Pre Code</title>
					<description>Outer mapping to #preCodeContent. This code will appear right after feature and header and before any Generated Content or Content Block</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.preCodeContent</TypoScriptObjPath>
				</tx_templavoila>
			</field_pre_code_content>
			<field_feature type="array">
				<tx_templavoila type="array">
					<title>Feature Content</title>
					<description>Outer to #feature</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>ce</eType>
					<tags>div:outer</tags>
					<TypoScript_constants>
<containerWidth>{$containerWidth.f3a.feature}</containerWidth>
<templateKey>f3a</templateKey>
<fieldKey>feature</fieldKey>
                    </TypoScript_constants>
					<TypoScript>
<![CDATA[
10 = CASE
10 {
	key.data = register:tvfwRenderMode
	1 = LOAD_REGISTER
	1	{
		tvfwBlockBeginWrap = <div id="feature" class="{register:featureClass}"><!--TYPO3SEARCH_begin-->
		tvfwBlockEndWrap = <!--TYPO3SEARCH_end--><div class="clearOnly">&nbsp;</div></div><!-- end #feature  -->
		containerWidth = {$containerWidth}
	}
	2 = LOAD_REGISTER
	2 {
		containerWidth.data = register:{$templateKey}{$fieldKey}width
		tvfwBlockBeginWrap.dataWrap = {register:{$templateKey}{$fieldKey}beginWrap}
		tvfwBlockEndWrap.dataWrap = {register:{$templateKey}{$fieldKey}endWrap}
	}
	default = LOAD_REGISTER
	default {
		tvfwBlockBeginWrap = <div id="feature" class="{register:featureClass}"><!--TYPO3SEARCH_begin-->
		tvfwBlockEndWrap = <!--TYPO3SEARCH_end--><div class="clearOnly">&nbsp;</div></div><!-- end #feature  -->
		containerWidth = {$containerWidth}
	}
}

20 = LOAD_REGISTER
20 {
	tempContainerWidth.data = register:containerWidth
	tempContainerWidth.dataWrap = | + {register:featureLeftPadding} + {register:featureRightPadding}
	containerWidth.data = register:tempContainerWidth
	containerWidth.prioriCalc = intval
	maxImageWidth.data = register:containerWidth
	originalContainerWidth.data = register:containerWidth
	nestingLevel = 0
	containerElementPresent = 0
}
30 = RECORDS
30 {
	source.current = 1
	tables = tt_content
	stdWrap {
		wrap = {register:tvfwBlockBeginWrap}|{register:tvfwBlockEndWrap}
		wrap.insertData = 1
		## Set to load register only if content is present (required = 1) so that preCodeFeature & postCodeFeature is properly triggered
		postCObject = LOAD_REGISTER
		postCObject.contentElementsPresent = 1
	}
}
40 = LOAD_REGISTER
40 {
	noFeatureContentFlag = 1
	noFeatureContentFlag.if.isLessThan.stdWrap.dataWrap = {register:contentElementsPresent}{register:containerElementPresent}
	noFeatureContentFlag.if.value = 1
}
]]>
					</TypoScript>
					<enableDragDrop>1</enableDragDrop>
					<oldStyleColumnNumber type="integer">0</oldStyleColumnNumber>
				</tx_templavoila>
				<TCEforms type="array">
					<config type="array">
						<type>group</type>
						<internal_type>db</internal_type>
						<allowed>tt_content</allowed>
						<size>5</size>
						<maxitems>200</maxitems>
						<minitems>0</minitems>
						<multiple>1</multiple>
						<show_thumbs>1</show_thumbs>
					</config>
					<label></label>
				</TCEforms>
			</field_feature>
			<field_pre_code_feature type="array">
				<tx_templavoila type="array">
					<title>Feature Pre Code</title>
					<description>Outer mapping to #preCodeFeature. This code will appear just before the feature if there is one. It will not appear if there is no feature.</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.evaluatedPreCodeFeature</TypoScriptObjPath>
				</tx_templavoila>
			</field_pre_code_feature>
			<field_post_code_feature type="array">
				<tx_templavoila type="array">
					<title>Feature Post Code</title>
					<description>Outer mapping to #postCodeFeature. This code will appear just after the feature if there is one. It will not appear if there is no feature.</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.evaluatedPostCodeFeature</TypoScriptObjPath>
				</tx_templavoila>
			</field_post_code_feature>
			<field_pre_code_content_block_2 type="array">
				<tx_templavoila type="array">
					<title>Secondary Content Pre Code</title>
					<description>Outer mapping to #preCodeContentBlock-2. This code will appear right before the Secondary Content.</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.preCodeContentBlock-2</TypoScriptObjPath>
				</tx_templavoila>
			</field_pre_code_content_block_2>
			<field_content_block_2 type="array">
				<tx_templavoila type="array">
					<title>Secondary Content (Content Block 2)</title>
					<description>Outer to #contentBlock-2</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>ce</eType>
					<tags>div:outer</tags>
					<TypoScript_constants>
<containerWidth>{$containerWidth.f3a.contentBlock-2}</containerWidth>
<templateKey>f3a</templateKey>
<fieldKey>contentBlock-2</fieldKey>
                    </TypoScript_constants>
					<TypoScript>
<![CDATA[
10 = CASE
10 {
	key.data = register:tvfwRenderMode
	1 = LOAD_REGISTER
	1	{
		tvfwBlockBeginWrap = <div id="contentBlock-2"><!--TYPO3SEARCH_begin-->
		tvfwBlockEndWrap = <!--TYPO3SEARCH_end--><div class="clearOnly">&nbsp;</div></div>
		containerWidth = {$containerWidth}
	}
	2 = LOAD_REGISTER
	2 {
		containerWidth.data = register:{$templateKey}{$fieldKey}width
		tvfwTemplateCheck = <h3 style="background:red;color:white;padding:10px;">You must update your templates to use render mode 2 <a href="http://www.busynoggin.com/" style="color:white;text-decoration:underline;">more info</a></h3>
		tvfwTemplateCheck.if {
			value = 2
			isInList = {$maxRenderMode}
			negate = 1
		}
		tvfwBlockBeginWrap.dataWrap = {register:{$templateKey}{$fieldKey}beginWrap}{register:tvfwTemplateCheck}
		tvfwBlockBeginWrap.dataWrap = {register:{$templateKey}{$fieldKey}endWrap}
	}
	default = LOAD_REGISTER
	default {
		tvfwBlockBeginWrap = <div id="contentBlock-2"><!--TYPO3SEARCH_begin-->
		tvfwBlockEndWrap = <!--TYPO3SEARCH_end--><div class="clearOnly">&nbsp;</div></div>
		containerWidth = {$containerWidth}
	}
}

20 = LOAD_REGISTER
20 {
	maxImageWidth.data = register:containerWidth
	originalContainerWidth.data = register:containerWidth
	nestingLevel = 0
}
30 = RECORDS
30 {
	wrap = {register:tvfwBlockBeginWrap}|{register:tvfwBlockEndWrap}
	wrap.insertData = 1
	source.current = 1
	tables = tt_content
}

]]>
					</TypoScript>
					<enableDragDrop>1</enableDragDrop>
					<oldStyleColumnNumber type="integer">0</oldStyleColumnNumber>
				</tx_templavoila>
				<TCEforms type="array">
					<config type="array">
						<type>group</type>
						<internal_type>db</internal_type>
						<allowed>tt_content</allowed>
						<size>5</size>
						<maxitems>200</maxitems>
						<minitems>0</minitems>
						<multiple>1</multiple>
						<show_thumbs>1</show_thumbs>
					</config>
					<label></label>
				</TCEforms>
			</field_content_block_2>
			<field_post_code_content_block_2 type="array">
				<tx_templavoila type="array">
					<title>Secondary Content Post Code</title>
					<description>Outer mapping to #postCodeContentBlock-2. This code will appear right after the Secondary Content.</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.postCodeContentBlock-2</TypoScriptObjPath>
				</tx_templavoila>
			</field_post_code_content_block_2>
			<field_pre_code_content_block_3 type="array">
				<tx_templavoila type="array">
					<title>Additional Content Pre Code</title>
					<description>Outer mapping to #preCodeContentBlock-3. This code will appear right before the Additional Content.</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.preCodeContentBlock-3</TypoScriptObjPath>
				</tx_templavoila>
			</field_pre_code_content_block_3>
			<field_content_block_3 type="array">
				<tx_templavoila type="array">
					<title>Additional Content (Content Block 3)</title>
					<description>Outer to #contentBlock-3</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>ce</eType>
					<tags>div:outer</tags>
					<TypoScript_constants>
<containerWidth>{$containerWidth.f3a.contentBlock-3}</containerWidth>
<templateKey>f3a</templateKey>
<fieldKey>contentBlock-3</fieldKey>
                    </TypoScript_constants>
					<TypoScript>
<![CDATA[
10 = CASE
10 {
	key.data = register:tvfwRenderMode
	1 = LOAD_REGISTER
	1	{
		tvfwBlockBeginWrap = <div id="contentBlock-3"><!--TYPO3SEARCH_begin-->
		tvfwBlockEndWrap = <!--TYPO3SEARCH_end--><div class="clearOnly">&nbsp;</div></div>
		containerWidth = {$containerWidth}
	}
	2 = LOAD_REGISTER
	2 {
		containerWidth.data = register:{$templateKey}{$fieldKey}width
		tvfwTemplateCheck = <h3 style="background:red;color:white;padding:10px;">You must update your templates to use render mode 2 <a href="http://www.busynoggin.com/" style="color:white;text-decoration:underline;">more info</a></h3>
		tvfwTemplateCheck.if {
			value = 2
			isInList = {$maxRenderMode}
			negate = 1
		}
		tvfwBlockBeginWrap.dataWrap = {register:{$templateKey}{$fieldKey}beginWrap}{register:tvfwTemplateCheck}
		tvfwBlockBeginWrap.dataWrap = {register:{$templateKey}{$fieldKey}endWrap}
	}
	default = LOAD_REGISTER
	default {
		tvfwBlockBeginWrap = <div id="contentBlock-3"><!--TYPO3SEARCH_begin-->
		tvfwBlockEndWrap = <!--TYPO3SEARCH_end--><div class="clearOnly">&nbsp;</div></div>
		containerWidth = {$containerWidth}
	}
}

20 = LOAD_REGISTER
20 {
	maxImageWidth.data = register:containerWidth
	originalContainerWidth.data = register:containerWidth
	nestingLevel = 0
}
30 = RECORDS
30 {
	wrap = {register:tvfwBlockBeginWrap}|{register:tvfwBlockEndWrap}
	wrap.insertData = 1
	source.current = 1
	tables = tt_content
}

]]>
					</TypoScript>
					<enableDragDrop>1</enableDragDrop>
					<oldStyleColumnNumber type="integer">0</oldStyleColumnNumber>
				</tx_templavoila>
				<TCEforms type="array">
					<config type="array">
						<type>group</type>
						<internal_type>db</internal_type>
						<allowed>tt_content</allowed>
						<size>5</size>
						<maxitems>200</maxitems>
						<minitems>0</minitems>
						<multiple>1</multiple>
						<show_thumbs>1</show_thumbs>
					</config>
					<label></label>
				</TCEforms>
			</field_content_block_3>
			<field_post_code_content_block_3 type="array">
				<tx_templavoila type="array">
					<title>Addtional Content Post Code</title>
					<description>Outer mapping to #postCodeContentBlock-3. This code will appear right after the Addtional Content.</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.postCodeContentBlock-3</TypoScriptObjPath>
				</tx_templavoila>
			</field_post_code_content_block_3>
			<field_pre_code_footer type="array">
				<tx_templavoila type="array">
					<title>Footer Pre Code</title>
					<description>Outer mapping to #preCodeFooter. This code will appear right after the footer and before the closing body tag</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.preCodeFooter</TypoScriptObjPath>
				</tx_templavoila>
			</field_pre_code_footer>
			<field_footer type="array">
				<tx_templavoila type="array">
					<title>Footer</title>
					<description>Outer to #footer</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.footer</TypoScriptObjPath>
				</tx_templavoila>
			</field_footer>
			<field_post_code_footer type="array">
				<tx_templavoila type="array">
					<title>Footer Post Code</title>
					<description>Outer mapping to #postCodeFooter. This code will appear right after the footer and before the closing body tag</description>
					<sample_data type="array">
						<numIndex index="0"></numIndex>
					</sample_data>
					<eType>TypoScriptObject</eType>
					<tags>div:outer</tags>
					<TypoScriptObjPath>plugin.tx_templavoilaframework.postCodeFooter</TypoScriptObjPath>
				</tx_templavoila>
			</field_post_code_footer>
		</el>
	</ROOT>
</T3DataStructure>